<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sPlayerShadow</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1</depth>
  <persistent>0</persistent>
  <parentName>oEntity</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>oPlayer</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///variables del personaje

HpMax       = 6;
Hp          = 6;
ASpeed      = 50;
Damage      = 1;
SSpeed      = 20; 
Range       = 120;
Speed       = 10;
SSize       = 1;
TSize       = 1;
Luck        = 0;
//objetos base
Coins       = 0;
Keys        = 0;
Bombs       = 0;
//Extra
CanShoot    = true;
CanTakeDm   = false;

//movimiento
VSpeed      = 0;
HSpeed      = 0;


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///cabeza y cuerpo
Cuerpo = instance_create(x,y-8,oPlayerBody)
Cabeza = instance_create(x,y-21,oPlayerHead)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>CanShoot = true
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///movimiento
//Gamepad touch
var v_lh = vstick_get_xaxis(0)
var v_lv = vstick_get_yaxis(0)

///movimiento
repeat(Speed){
    if v_lh != 0 or v_lv != 0{
        if !place_meeting(x+v_lh/10,y,oSolid){
            movimiento  = 1
             x          += v_lh/10
             Cuerpo.x   += v_lh/10
             Cabeza.x   += v_lh/10
        }
        if !place_meeting(x,y+v_lv/10,oSolid){
            movimiento  = 1
            y           += v_lv/10
            Cuerpo.y    += v_lv/10
            Cabeza.y    += v_lv/10
        }   
        if !(audio_is_playing(snd_step)) {
            audio_play_sound(snd_step,0,0)
        }
    }else{
        movimiento = 0
    }
}


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///disparo
//Gamepad touch
var VPad = vstick_get_xaxis(1)
var HPad = vstick_get_yaxis(1)

///disparos

if VPad = 0 and HPad = 0 { exit; }
    if CanShoot = true {
    alarm[0] = ASpeed
    CanShoot = false
    if abs(VPad) &lt; abs(HPad){   
        scrShoot("V",HPad);
    }else{
        scrShoot("H",VPad);
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
///controlar stats
if As &lt; 10  {As = 10}; if As &gt; 150 {As = 150};
if Dm &lt; .1  {Dm = .1}; if Dm &gt; 15  {Dm = 15};
if Ss &lt; 1   {Ss = 1};  if Ss &gt; 12  {Ss = 12};
if Sp &lt; .5  {Sp = .5}; if Sp &gt; 4   {Sp = 4};
if Rg &lt; 10   {Rg = 10};  if Rg &gt; 120   {Rg = 120};
if Hp_max &lt; 2 {Hp_max = 2}; if Hp_max &gt; 20 {Hp_max = 20;Hp =Hp_max}
if Sc &lt; .3 {Sc= .3}; if Sc &gt; 3 {Sc= 3}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// da√±o con enemigos
/*
enemigo = place_meeting(x,y,obj_enemigo_mask)
pinchos = place_meeting(x,y,obj_pinchos)
//enemigos
if enemigo
{
if (hit = false)
{
global.puntos -= 1;
obj_pies.image_blend = c_dkgray
image_blend = c_dkgray
audio_play_sound(snd_damage,1,0)
hit = true
Hp -= 1
alarm [1] = room_speed 
}
with(enemigo)
{
    speed = -1
    alarm[0] = room_speed / 2
}
}
//pinchos
if pinchos
{
if (hit = false)
{
global.puntos -= 1;
obj_pies.image_blend = c_dkgray
image_blend = c_dkgray
audio_play_sound(snd_damage,1,0)
hit = true
Hp -= 1
alarm [1] = room_speed 
}
}
//disparo
disparo_enemigo = obj_disparo_enemigo

if  place_meeting(x,y,disparo_enemigo)
{
with(disparo_enemigo)
{
    instance_destroy();
}
if (hit = false)
{
global.puntos -= 1;
obj_pies.image_blend = c_dkgray
image_blend = c_dkgray
audio_play_sound(snd_damage,1,0)
hit = true
Hp -= 1
alarm [1] = room_speed 
}
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///gameover
if  Hp &lt;= 0{
    if global.Puntos &gt; global.PuntosMax{
        global.PuntosMax = global.Puntos; 
    }
    ini_open("savedata.ini"){
        ini_write_real("save1","puntos",global.PuntosMax)
    }
    ini_close();
    game_restart();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
///dibujar Gui
draw_set_halign(fa_center)
draw_set_valign(fa_center)
draw_set_font(fnt_Gui)
//objetos basicos
draw_set_colour(c_black)
draw_rectangle(7,8,205,28,false)
draw_set_colour(c_white)
draw_rectangle(6,7,205,28,true)
draw_sprite(spr_moneda,1,16,16)  draw_text(40,17,":" + string(monedas))
draw_sprite(spr_llaves,0,73,18)  draw_text(98,17,":" + string(llaves))
draw_sprite(spr_corazones,1,129,19)  draw_text(168,17,":" + string(Hp) + "-"+ string(Hp_max))
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>1</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
